apply plugin: 'java'
apply plugin: 'checkstyle'
apply plugin: 'findbugs'


println project.name

println project(':build-tool').projectDir// + 'checkstyle/checkstyle.xml'

repositories {
    jcenter()
}


task jarTest(type: Jar) {
    from sourceSets.test.output
    classifier = 'test'
}


configurations {
    testLib
}


artifacts {
    testLib jarTest
}


Closure compilerOptions = {
    options.compilerArgs << '-Xlint:unchecked' << '-Xlint:deprecation'
}


compileJava compilerOptions
compileTestJava compilerOptions


checkstyle {
    toolVersion = "6.19"
    ignoreFailures = false
    //configFile = project(':build-tool').checkstyle.configFile //+ 'checkstyle/checkstyle.xml'
    configFile = '../build-tool/config/checkstyle/checkstyle.xml' as File
}


tasks.withType(FindBugs) {
    reports {
        xml.enabled false
        html.enabled true
    }
}